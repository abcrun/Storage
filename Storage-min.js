/**
* Data Storage - UserData(IE),Cookie,LocalStorage 
* The MIT License - Copyright (c) 2013 Hongbo Yang <abcrun@gmail.com>
* Repository - https://github.com/abcrun/sack.git
*/
!function(e,t){if(typeof define==="function"&&define.amd)define(t);else if(typeof module==="object"&&module.exports)module.exports=t();else this[e]=t()}("Storage",function(){var e=function(){var e;try{var t=new ActiveXObject("htmlfile"),e;t.open();t.write('<iframe src="/favicon.ico" id="userDataTunnel"></iframe>');t.close();e=t.getElementById("userDataTunnel").document.documentElement;e.addBehavior("#default#userData")}catch(r){e=document.documentElement;e.addBehavior("#default#userData")}return{get:function(t){e.load(t);return e.getAttribute(t)},set:function(t,r,i){if(i){var n=new Date;n.setTime(n.getTime()+i*1e3);e.expires=n.toUTCString()}e.setAttribute(t,r);e.save(t)},add:function(t,r,i){e.load(t);var n=e.getAttribute(t)||"";if(!n)return this.set(t,r,i);var a=new RegExp("(?:^|,)"+r);if(r&&!a.test(n)){e.setAttribute(t,r+","+n)}e.save(t)},remove:function(t,r){e.load(t);var i=e.getAttribute(t)||"";if(!i)return;if(r){var n=new RegExp("(?:^|,)"+r),r=i.replace(n,"");this.set(t,r)}else{e.removeAttribute(t);e.save(t)}}}};var t={get:function(e){var t=localStorage.getItem(e),r=(new Date).getTime(),i=/^\[(\d+)\],/,n=i.exec(t);if(n){if(n[1]<=r){localStorage.removeItem(e);t=null}else{t=t.replace(i,"")}}return t},set:function(e,t,r){var i="";if(r){var n=(new Date).getTime();i="["+(n+r*1e3)+"],"}localStorage.setItem(e,i+t)},add:function(e,t,r){var i=this.get(e)||"";if(!i)return this.set(e,t,r);var n=/^\[\d+\]/.exec(localStorage.getItem(e));if(n)n=n[0]+",";else n="";var a=new RegExp("(?:,|^)"+t);if(t&&!a.test(i)){localStorage.setItem(e,n+t+","+i)}},remove:function(e,t){var r=this.get(e)||"";if(!r)return;if(t){var i=new RegExp("(?:,|^)"+t),t=r.replace(i,"");this.set(e,t)}else{localStorage.removeItem(e)}}};var r={get:function(e){var t=document.cookie;var r=t.indexOf(e+"="),i=t.indexOf(";",r);if(i==-1)i=t.length;if(r>-1){return t.substring(r+e.length+1,i)}else{return null}},set:function(e,t,r,i,n){var i=i||document.domain,n=n||"/",a="";if(r){if(window.ActiveXObject){var o=new Date;o.setTime(o.getTime()+r*1e3);a="expires="+o.toGMTString()}else{a="max-age="+r}}document.cookie=e+"="+t+";path="+n+";domain="+i+";"+a},add:function(e,t,r,i,n){var a=this.get(e)||"";if(!a)return this.set(e,t,r,i,n);var o=new RegExp("(?:^|,)"+t);if(!o.test(a))this.set(e,t+","+a,r,i,n)},remove:function(e,t,r,i,n){var a=this.get(e)||"";if(!a)return;if(t){var o=new RegExp("(?:,|^)"+t),t=a.replace(o,"");this.set(e,t,days,i,n)}else{this.set(e,t,0,i,n)}}};var i=t;if(!window.localStorage){i=e()}return{get:i.get,set:i.set,add:i.add,remove:i.remove,cookie:r}});